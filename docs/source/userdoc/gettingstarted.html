<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Getting Started &mdash; Substance3d API  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Next Steps" href="nextsteps.html" />
    <link rel="prev" title="Main Concepts" href="mainconcepts.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Substance3d API
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">API:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/scene.html">substance3d.api.scene</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/branch.html">substance3d.api.scene.branch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/animation.html">substance3d.api.scene.animation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/primitive.html">substance3d.api.primitive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/variant.html">substance3d.api.variant</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/export.html">substance3d.api.export</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/transform.html">substance3d.api.transform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/transform_utilities.html">substance3d.api.transform.transform_utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/light.html">substance3d.api.light</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/camera.html">substance3d.api.camera</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/material.html">substance3d.api.material</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/renderer.html">substance3d.api.renderer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/image.html">substance3d.api.image</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/utility.html">substance3d.api.utility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/mesh_processing.html">substance3d.api.mesh_processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/stats.html">substance3d.api.stats</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Manual:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="mainconcepts.html">Main Concepts</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#create-and-build-a-scene">Create and build a scene</a></li>
<li class="toctree-l2"><a class="reference internal" href="#load-and-edit-a-scene">Load and edit a scene</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-objects-with-ssca">Create objects with SSCA</a></li>
<li class="toctree-l2"><a class="reference internal" href="#import-meshes-and-other-content-from-existing-files">Import meshes and other content from existing files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#import-as-layer">Import as layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#import-as-reference">Import as reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#search-the-scene-for-objects">Search the scene for objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#get-objects-with-scene-search">Get objects with scene.search()</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-objects-with-special-iterators">Get objects with special iterators</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advanced-improving-performance-even-more-while-iterating-through-the-scene">Advanced : Improving performance even more while iterating through the scene</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#how-to-get-back-the-primhandler-s-attributes">How to get back the PrimHandler’s attributes?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#move-objects">Move objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#material">Material</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-a-material-from-textures">Create a material from textures</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-a-material-from-an-sbsar-file">Create a material from an SBSAR file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#assign-a-material-to-an-object">Assign a material to an object</a></li>
<li class="toctree-l3"><a class="reference internal" href="#transform-a-material">Transform a material</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#lights">Lights</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dome-lights">Dome Lights</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cameras">Cameras</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-cameras">Create cameras</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rendering">Rendering</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#render-settings">Render Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-a-background">Add a background</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#export">Export</a></li>
<li class="toctree-l2"><a class="reference internal" href="#image-manipulation">Image manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#variants">Variants</a></li>
<li class="toctree-l2"><a class="reference internal" href="#animation">Animation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nextsteps.html">Next Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="handlers.html">How to use Handlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="knownissues.html">Known Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="mesh_processing.html">Mesh Processing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Note:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Substance3d Release Notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Substance3d API</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Getting Started</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/source/userdoc/gettingstarted.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this heading"></a></h1>
<section id="create-and-build-a-scene">
<h2>Create and build a scene<a class="headerlink" href="#create-and-build-a-scene" title="Permalink to this heading"></a></h2>
<p>API Modules : <a class="reference internal" href="../api/scene.html#module-substance3d.api.scene.scene"><span class="std std-ref">scene</span></a>, <a class="reference internal" href="../api/material.html#module-substance3d.api.material.material"><span class="std std-ref">material</span></a>,
<a class="reference internal" href="../api/primitive.html#module-substance3d.api.primitive.primitive"><span class="std std-ref">primitive</span></a>, <a class="reference internal" href="../api/light.html#module-substance3d.api.light.light"><span class="std std-ref">light</span></a></p>
<p>Substance 3D Scene Automation (SSCA) projects require a scene in which to work. The scene acts like a canvas for a painter : without the canvas, the painter has nowhere to use their paint, just as without a scene, SSCA has no space in which to operate.</p>
<p>The script below shows how to create a scene, add a cube and a light to it, and then save the scene.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># import the scene module from the api package</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">scene</span><span class="p">,</span> <span class="n">primitive</span><span class="p">,</span> <span class="n">light</span>

<span class="c1"># create a new scene</span>
<span class="n">my_scene</span> <span class="o">=</span> <span class="n">scene</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>

<span class="c1"># create a cube</span>
<span class="n">shape1</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">cube</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;cube&#39;</span><span class="p">)</span>

<span class="c1"># create a light</span>
<span class="n">light1</span> <span class="o">=</span> <span class="n">light</span><span class="o">.</span><span class="n">distant</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;distant_light&#39;</span><span class="p">)</span>

<span class="c1"># save the scene with a valid output filepath</span>
<span class="n">output_path</span> <span class="o">=</span> <span class="n">scene</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;./TestScene.usda&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice how the cube and light both need to reference <code class="docutils literal notranslate"><span class="pre">my_scene</span></code> object as a parent. Without a parent, these objects can’t be created, hence why we need the scene.</p>
<img alt="../../_images/scene_cube.jpg" src="../../_images/scene_cube.jpg" />
<p>The image above shows how the scene should appear in Omniverse Create.
The <code class="docutils literal notranslate"><span class="pre">scene.new()</span></code> function allows you to pass a filepath as a parameter. By setting the filepath when the scene is created rather than when it is saved, the scene module will create an empty file at the given path to reserve the filename. If the path is defined when the scene is created with <code class="docutils literal notranslate"><span class="pre">scene.new()</span></code>, then you do not need to specify the filepath with <code class="docutils literal notranslate"><span class="pre">scene.save()</span></code>.
Also note that relative filepaths are valid and are relative to the working directory path defined for the run configuration. For example, if your run configuration’s working directory is set to <code class="docutils literal notranslate"><span class="pre">C:/SSCA/Output</span></code> then <code class="docutils literal notranslate"><span class="pre">scene.save(my_scene,</span> <span class="pre">&quot;./TestScene.usda&quot;)</span></code> will save the scene to <code class="docutils literal notranslate"><span class="pre">C:/SSCA/Output/TestScene.usda</span></code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To facilitate imports of scenes made with SSCA within other DCCs and Substance Viewer, any new entity created with a function that supports StageHandler as parent will be created under the defaultPrim of the scene instead.</p>
<p><code class="docutils literal notranslate"><span class="pre">scene.new()</span></code> automatically creates a PrimHandler (XForm) named “root” at the base of the scene and set it as the defaultPrim for this use.
As a result, the above scene tree is actually looking like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>TestScene.usda
└── root
    ├── cube
    └── distant_light
</pre></div>
</div>
<p>To disable this default behavior and create entities directly at the root of the scene (StageHandler), set the global option <code class="docutils literal notranslate"><span class="pre">ALLOW_CREATION_AT_ROOT_STAGE</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># These two lines must be called before any SSCA module</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">substance3d.api</span>
<span class="n">substance3d</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">ALLOW_CREATION_AT_ROOT_STAGE</span> <span class="o">=</span> <span class="kc">True</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">scene</span><span class="p">,</span> <span class="n">primitive</span><span class="p">,</span> <span class="n">renderer</span>
</pre></div>
</div>
</div>
</section>
<section id="load-and-edit-a-scene">
<h2>Load and edit a scene<a class="headerlink" href="#load-and-edit-a-scene" title="Permalink to this heading"></a></h2>
<p>API Modules : <a class="reference internal" href="../api/scene.html#module-substance3d.api.scene.scene"><span class="std std-ref">scene</span></a>, <a class="reference internal" href="../api/transform.html#module-substance3d.api.transform.transform"><span class="std std-ref">transform</span></a>, <a class="reference internal" href="../api/camera.html#module-substance3d.api.camera.camera"><span class="std std-ref">camera</span></a></p>
<p>While you can create scenes from scratch, it’s often useful to load existing 3D files.</p>
<p>SSCA can load multiple different 3D filetypes beyond USD to modify and then save as USD,
call <code class="docutils literal notranslate"><span class="pre">scene.ALLOWED_EXTENSIONS</span></code> variable to have the list.</p>
<p>The script below loads the USDA file created in the “Create and build a scene” section.
First the script adds a camera, then it searches the file for an existing cube object and
updates the cube’s position. Finally, the script saves the updated scene with a new filename
to avoid overwriting the original USD file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">scene</span><span class="p">,</span> <span class="n">transform</span><span class="p">,</span> <span class="n">camera</span>

<span class="c1"># load existing scene</span>
<span class="n">my_scene</span> <span class="o">=</span> <span class="n">scene</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;./TestScene.usda&#39;</span><span class="p">)</span>

<span class="c1"># add a camera</span>
<span class="n">my_cam</span> <span class="o">=</span> <span class="n">camera</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;camera&#39;</span><span class="p">)</span>

<span class="c1"># search the scene for the cube, move the cube to be visible from the camera, then frame it.</span>
<span class="n">my_cube</span> <span class="o">=</span> <span class="n">my_scene</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;*cube*&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;mesh&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">transform</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">my_cube</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">))</span>
<span class="n">camera</span><span class="o">.</span><span class="n">frame</span><span class="p">(</span><span class="n">my_cam</span><span class="p">,</span> <span class="n">my_cube</span><span class="p">)</span>

<span class="c1"># save the scene to a new file</span>
<span class="n">output_path</span> <span class="o">=</span> <span class="n">scene</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;./UpdatedTestScene.usda&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The image below shows the resulting scene after being modified by the script above.</p>
<img alt="../../_images/scene_camera_cube.jpg" src="../../_images/scene_camera_cube.jpg" />
<p>Although we transform (move) the cube in the script above, we won’t cover that in this article.
Instead, you can learn more about moving objects in the scene in this article about the transform module, <a class="reference internal" href="#move-objects"><span class="std std-ref">Move objects</span></a>.</p>
<p>You can also learn more about using the <code class="docutils literal notranslate"><span class="pre">scene.search()</span></code> function in this article, <a class="reference internal" href="#search-the-scene-for-objects"><span class="std std-ref">Search the scene</span></a>.</p>
<p>Currently supported tesselated files formats :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">.3</span><span class="n">dxml</span><span class="p">,</span> <span class="mf">.3</span><span class="n">mf</span><span class="p">,</span> <span class="o">.</span><span class="n">dae</span><span class="p">,</span> <span class="o">.</span><span class="n">pdf</span><span class="p">,</span> <span class="o">.</span><span class="n">prc</span><span class="p">,</span> <span class="o">.</span><span class="n">fbx</span><span class="p">,</span> <span class="o">.</span><span class="n">glb</span><span class="p">,</span> <span class="o">.</span><span class="n">gltf</span><span class="p">,</span> <span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="o">.</span><span class="n">stl</span><span class="p">,</span>
<span class="o">.</span><span class="n">vrml</span><span class="p">,</span> <span class="o">.</span><span class="n">wrl</span>
</pre></div>
</div>
<p>Other supported CAD formats :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">.3</span><span class="n">dm</span><span class="p">,</span> <span class="mf">.3</span><span class="n">ds</span><span class="p">,</span> <span class="o">.</span> <span class="n">abc</span><span class="p">,</span> <span class="o">.</span><span class="n">arc</span><span class="p">,</span> <span class="o">.</span><span class="n">asm</span><span class="p">,</span> <span class="o">.</span><span class="n">axf</span><span class="p">,</span> <span class="o">.</span><span class="n">catdrawing</span><span class="p">,</span> <span class="o">.</span><span class="n">catpart</span><span class="p">,</span>
<span class="o">.</span><span class="n">catproduct</span><span class="p">,</span> <span class="o">.</span><span class="n">catshape</span><span class="p">,</span> <span class="o">.</span><span class="n">cgr</span><span class="p">,</span> <span class="o">.</span><span class="n">dlv</span><span class="p">,</span> <span class="o">.</span><span class="n">dwf</span><span class="p">,</span> <span class="o">.</span><span class="n">dwfx</span><span class="p">,</span> <span class="o">.</span><span class="n">dxf</span><span class="p">,</span> <span class="o">.</span><span class="n">exp</span><span class="p">,</span>
<span class="o">.</span><span class="n">iam</span><span class="p">,</span> <span class="o">.</span><span class="n">ifc</span><span class="p">,</span> <span class="o">.</span><span class="n">ifczip</span><span class="p">,</span> <span class="o">.</span><span class="n">iges</span><span class="p">,</span> <span class="o">.</span><span class="n">igs</span><span class="p">,</span> <span class="o">.</span><span class="n">ipt</span><span class="p">,</span> <span class="o">.</span><span class="n">jt</span><span class="p">,</span> <span class="o">.</span><span class="n">mf1</span><span class="p">,</span> <span class="o">.</span><span class="n">model</span><span class="p">,</span> <span class="o">.</span><span class="n">neu</span><span class="p">,</span>
<span class="o">.</span><span class="n">par</span><span class="p">,</span> <span class="o">.</span><span class="n">pkg</span><span class="p">,</span> <span class="o">.</span><span class="n">ply</span><span class="p">,</span> <span class="o">.</span><span class="n">prt</span><span class="p">,</span> <span class="o">.</span><span class="n">psm</span><span class="p">,</span> <span class="o">.</span><span class="n">pwd</span><span class="p">,</span> <span class="o">.</span><span class="n">rfa</span><span class="p">,</span> <span class="o">.</span><span class="n">sab</span><span class="p">,</span> <span class="o">.</span><span class="n">sat</span><span class="p">,</span> <span class="o">.</span><span class="n">sbsar</span><span class="p">,</span>
<span class="o">.</span><span class="n">sdf</span><span class="p">,</span> <span class="o">.</span><span class="n">session</span><span class="p">,</span> <span class="o">.</span><span class="n">sldasm</span><span class="p">,</span> <span class="o">.</span><span class="n">sldprt</span><span class="p">,</span> <span class="o">.</span><span class="n">step</span><span class="p">,</span> <span class="o">.</span><span class="n">stp</span><span class="p">,</span> <span class="o">.</span><span class="n">stpx</span><span class="p">,</span> <span class="o">.</span><span class="n">stpxz</span><span class="p">,</span>
<span class="o">.</span><span class="n">stpz</span><span class="p">,</span> <span class="o">.</span><span class="n">u3d</span><span class="p">,</span> <span class="o">.</span><span class="n">unv</span><span class="p">,</span> <span class="o">.</span><span class="n">usd</span><span class="p">,</span> <span class="o">.</span><span class="n">usda</span><span class="p">,</span> <span class="o">.</span><span class="n">usdc</span><span class="p">,</span> <span class="o">.</span><span class="n">usdz</span><span class="p">,</span> <span class="o">.</span><span class="n">vda</span><span class="p">,</span> <span class="o">.</span><span class="n">x_b</span><span class="p">,</span> <span class="o">.</span><span class="n">x_t</span><span class="p">,</span>
<span class="o">.</span><span class="n">xas</span><span class="p">,</span> <span class="o">.</span><span class="n">xmt</span><span class="p">,</span> <span class="o">.</span><span class="n">xmt_txt</span><span class="p">,</span> <span class="o">.</span><span class="n">xpr</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>A loaded USD scene must have a valid <em>defaultPrim</em> if the user wants to create entities using StageHandler as argument (see note in the section above). Otherwise, <code class="docutils literal notranslate"><span class="pre">NotAValidateDefaultPrim</span></code> error will be raised by the function creating the entity.</p>
<p>A defaultPrim can always be set using <code class="docutils literal notranslate"><span class="pre">scene.set_default</span></code> or <code class="docutils literal notranslate"><span class="pre">&lt;scn&gt;.defaultPrim</span> <span class="pre">=</span> <span class="pre">'defaultPrimName'</span></code>, where <code class="docutils literal notranslate"><span class="pre">&lt;scn&gt;</span></code> is the variable containing your StageHandler.</p>
</div>
</section>
<section id="create-objects-with-ssca">
<h2>Create objects with SSCA<a class="headerlink" href="#create-objects-with-ssca" title="Permalink to this heading"></a></h2>
<p>API Modules : <a class="reference internal" href="../api/primitive.html#module-substance3d.api.primitive.primitive"><span class="std std-ref">primitive</span></a></p>
<p>Earlier articles in this user guide have already covered how to create objects with SSCA, so instead of a full script, here’s an example of how to make a cube:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">shape1</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">cube</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;cube&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Look at the Primitive module documentation for more information and options.</p>
</section>
<section id="import-meshes-and-other-content-from-existing-files">
<h2>Import meshes and other content from existing files<a class="headerlink" href="#import-meshes-and-other-content-from-existing-files" title="Permalink to this heading"></a></h2>
<p>API Modules : <a class="reference internal" href="../api/scene.html#module-substance3d.api.scene.scene"><span class="std std-ref">scene</span></a></p>
<p>Once you have created a scene, it’s often useful to import objects from other files to use within your scene.</p>
<section id="import-as-layer">
<h3>Import as layer<a class="headerlink" href="#import-as-layer" title="Permalink to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">scene.add_layer()</span></code> adds all the content from another file as a new layer on top of the current scene.
Like photoshop, it’s possible to stack many layers on top of each other to compose your final scene.</p>
<p>In the example below, we’re adding a layer using a <code class="docutils literal notranslate"><span class="pre">.usda</span></code> file, but many other file formats are supported, including FBX, OBJ, and GLTF.
Use <code class="docutils literal notranslate"><span class="pre">scene.ALLOWED_EXTENSIONS</span></code> to get a list of all of them.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a new scene</span>
<span class="n">my_scene</span> <span class="o">=</span> <span class="n">scene</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;./MyScene.usda&#39;</span><span class="p">)</span>

<span class="c1"># import/append all the content of an existing file above all the content of my_scene</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;./ImportScene.usda&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you need to fine-tune the content once it is imported in the scene, you may want to use <code class="docutils literal notranslate"><span class="pre">scene.add_reference()</span></code> instead.</p>
</div>
</section>
<section id="import-as-reference">
<h3>Import as reference<a class="headerlink" href="#import-as-reference" title="Permalink to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">scene.add_reference()</span></code> allows to select content from an other file and import it in the current scene.
The imported content will replace the content of the selected PrimHandler (usually an XForm Prim) into which it is imported.</p>
<p><cite>References</cite> are mainly used to import assets from different files in a main scene to do, for example, set dressing.
It allows a better control of the scene hierarchy.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the referenced file has a declared default object (e.g : defaultPrim metadata in USD), this object and all its sub-objects will be imported.
Otherwise, you can specify the desired object to import using <code class="docutils literal notranslate"><span class="pre">default_object</span></code> argument.</p>
<p>By default, the default object of all non-USD files will be the root of the scene.</p>
</div>
<p>In order to better understand how the reference content will replace the scene content, consider two files, <strong>A.usd</strong> and <strong>B.usd</strong>.</p>
<ul>
<li><p><strong>A.usd</strong> has the following structure:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">Scene</span>
    <span class="o">*</span> <span class="n">Cube1</span>
    <span class="o">*</span> <span class="n">Light1</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>B.usd</strong> has the following structure:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">Scene</span>
    <span class="o">*</span> <span class="n">Sphere1</span> <span class="p">(</span><span class="n">defaultPrim</span><span class="p">)</span>
        <span class="o">*</span> <span class="n">Sphere2</span>
        <span class="o">*</span> <span class="n">Sphere3</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Let <strong>A.usd</strong> reference <strong>B.usd</strong> with Cube1 as the parent using <code class="docutils literal notranslate"><span class="pre">scene.add_reference(Cube1,</span> <span class="pre">&quot;./B.usd&quot;)</span></code>, the new structure of <strong>A.usd</strong> will be:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">Scene</span>
    <span class="o">*</span> <span class="n">Cube1</span>
        <span class="o">*</span> <span class="n">Sphere2</span>
        <span class="o">*</span> <span class="n">Sphere3</span>
    <span class="o">*</span> <span class="n">Light1</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
<p>As we can see in the above example, the imported <cite>defaultPrim</cite> takes on the properties of the parent object,
and only the children of the defaultPrim are imported to the hierarchy without being modified.</p>
</section>
</section>
<section id="search-the-scene-for-objects">
<h2>Search the scene for objects<a class="headerlink" href="#search-the-scene-for-objects" title="Permalink to this heading"></a></h2>
<p>API Modules : <a class="reference internal" href="../api/scene.html#module-substance3d.api.scene.scene"><span class="std std-ref">scene</span></a></p>
<p>After loading a scene or appending a file to your scene, you may need to modify objects for which you don’t yet have a variable.</p>
<p>You can look for objects in your scene with the <code class="docutils literal notranslate"><span class="pre">scene.search()</span></code> function or iterate through all of them with special iterators like <code class="docutils literal notranslate"><span class="pre">scene.objects</span></code>.
If performance is required and you don’t need the filters, prefer <code class="docutils literal notranslate"><span class="pre">scene.objects</span></code> and <code class="docutils literal notranslate"><span class="pre">prim.children</span></code>.</p>
<section id="get-objects-with-scene-search">
<h3>Get objects with scene.search()<a class="headerlink" href="#get-objects-with-scene-search" title="Permalink to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">scene</span><span class="p">,</span> <span class="n">primitive</span>

<span class="c1"># creating scene elements that we store into variables</span>
<span class="n">my_scene</span> <span class="o">=</span> <span class="n">scene</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<span class="n">level1</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;level1&#39;</span><span class="p">)</span>
<span class="n">level2</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;level2&#39;</span><span class="p">)</span>

<span class="c1"># creating scene elements that we don&#39;t store in variables</span>
<span class="n">primitive</span><span class="o">.</span><span class="n">cube</span><span class="p">(</span><span class="n">level1</span><span class="p">,</span> <span class="s1">&#39;level1_cube1&#39;</span><span class="p">)</span>
<span class="n">primitive</span><span class="o">.</span><span class="n">cube</span><span class="p">(</span><span class="n">level1</span><span class="p">,</span> <span class="s1">&#39;level1_cube2&#39;</span><span class="p">)</span>
<span class="n">primitive</span><span class="o">.</span><span class="n">cube</span><span class="p">(</span><span class="n">level2</span><span class="p">,</span> <span class="s1">&#39;level2_cube1&#39;</span><span class="p">)</span>
<span class="n">primitive</span><span class="o">.</span><span class="n">cube</span><span class="p">(</span><span class="n">level2</span><span class="p">,</span> <span class="s1">&#39;level2_cube2&#39;</span><span class="p">)</span>

<span class="c1"># looking for objects with &quot;cube2&quot; in their name in the entire scene</span>
<span class="nb">print</span><span class="p">(</span><span class="n">my_scene</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;*cube2*&#39;</span><span class="p">))</span> <span class="c1"># &gt; Will find and print two objects</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">.search()</span></code> can be used in the same manner to find an object in a specific scope.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># looking for objects with &quot;cube2&quot; in their name in the level1 scope</span>
<span class="nb">print</span><span class="p">(</span><span class="n">level1</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;*cube2*&#39;</span><span class="p">))</span> <span class="c1"># &gt; Will find and print one object</span>
</pre></div>
</div>
<p>The search operation will be limited to all the object’s children and grandchildren. This can be useful for decreasing
search time in very large scenes.</p>
<p>Both search functions return lists of class <code class="docutils literal notranslate"><span class="pre">PrimHandler</span></code>. If no matching object is found, these functions will return an empty list.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The wildcard <code class="docutils literal notranslate"><span class="pre">*</span></code> character can be used as shown above. Additionally, regex can be used by setting <code class="docutils literal notranslate"><span class="pre">is_regexp=True</span></code> in the search function.</p>
</div>
<p>Below are some examples of useful search operations:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Searches the scene for an object with name cube.</span>
<span class="n">cube</span> <span class="o">=</span> <span class="n">my_scene</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;cube&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Returns a list of all objects of type &quot;camera&quot; in the scene.</span>
<span class="n">cameras</span> <span class="o">=</span> <span class="n">my_scene</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;camera&quot;</span><span class="p">)</span>

<span class="c1"># Searches for a material object under the cube object.</span>
<span class="n">cube_material</span> <span class="o">=</span> <span class="n">cube</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;material&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Returns a list of all objects that have &quot;shoe&quot; in their name.</span>
<span class="n">shoes</span> <span class="o">=</span> <span class="n">my_scene</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;*shoe*&quot;</span><span class="p">)</span>

<span class="c1"># Returns a list of all objects that contain any of the terms &quot;shoe&quot;, &quot;shirt&quot;, or &quot;glove&quot;.</span>
<span class="n">clothing</span> <span class="o">=</span> <span class="n">my_scene</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(?:shoe|shirt|glove)&quot;</span><span class="p">,</span> <span class="n">is_regexp</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Returns a list of all objects that have &quot;cube&quot; in their path.</span>
<span class="c1"># By default, looks only at object names,</span>
<span class="c1"># but with in_path=True arg, the path is also included.</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">my_scene</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s2">&quot;*cube*&quot;</span><span class="p">,</span> <span class="n">in_path</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">type</span></code> argument can be particularly useful for narrowing search results.
The list below shows a list of common types (the USD format allows for custom types to be created,
so this isn’t a full list, to get the full list call <code class="docutils literal notranslate"><span class="pre">scene.AVAILABLE_OBJECT_TYPES</span></code> variable):</p>
<ul class="simple">
<li><p>BlendShape</p></li>
<li><p>Camera</p></li>
<li><p>Capsule</p></li>
<li><p>Cone</p></li>
<li><p>Cube</p></li>
<li><p>Cylinder</p></li>
<li><p>CylinderLight</p></li>
<li><p>DiskLight</p></li>
<li><p>DistantLight</p></li>
<li><p>DomeLight</p></li>
<li><p>GeometryLight</p></li>
<li><p>Material</p></li>
<li><p>Mesh</p></li>
<li><p>NodeGraph</p></li>
<li><p>NurbsCurves</p></li>
<li><p>OpenVDBAsset</p></li>
<li><p>Points</p></li>
<li><p>PortalLight</p></li>
<li><p>RectLight</p></li>
<li><p>Scope</p></li>
<li><p>Shader</p></li>
<li><p>SpatialAudio</p></li>
<li><p>Sphere</p></li>
<li><p>SphereLight</p></li>
<li><p>Volume</p></li>
<li><p>Xform</p></li>
</ul>
</section>
<section id="get-objects-with-special-iterators">
<h3>Get objects with special iterators<a class="headerlink" href="#get-objects-with-special-iterators" title="Permalink to this heading"></a></h3>
<p>There are two other ways to access objects, by using <cite>special iterators</cite>.
Scene’s <code class="docutils literal notranslate"><span class="pre">.objects</span></code> iterator and object’s <code class="docutils literal notranslate"><span class="pre">.children</span></code> iterator.</p>
<p>We will see the different features of them:</p>
<ul class="simple">
<li><p>Iterate through the scene’s objects:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">objects</span> <span class="o">=</span> <span class="n">my_scene</span><span class="o">.</span><span class="n">objects</span>
<span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Get an object by giving an index:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">object</span> <span class="o">=</span> <span class="n">my_scene</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Get object by giving an object path:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">object</span> <span class="o">=</span> <span class="n">my_scene</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="s2">&quot;/Cube1/Sphere3&quot;</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>From an object, iterate its children:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">my_cube</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>From object, get a child by index:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">child</span> <span class="o">=</span> <span class="n">my_cube</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>From object, get a child by name:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">child</span> <span class="o">=</span> <span class="n">my_cube</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="s2">&quot;Sphere3&quot;</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="advanced-improving-performance-even-more-while-iterating-through-the-scene">
<h3>Advanced : Improving performance even more while iterating through the scene<a class="headerlink" href="#advanced-improving-performance-even-more-while-iterating-through-the-scene" title="Permalink to this heading"></a></h3>
<p>The most efficient way to iterate through all objects in the scene is using the <code class="docutils literal notranslate"><span class="pre">scene.objects</span></code> iterator.</p>
<p>However, you may have thousands of objects and iterating through all of them may be costly if you’re only checking for
aliases like <em>variant sets</em> or relationships like <em>material binding</em>.</p>
<p>For this situation, you can deactivate attribute initialization using the following setup :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">scn</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">with_attrs</span> <span class="o">=</span> <span class="kc">False</span>
<span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">scn</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
    <span class="n">o</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">binding</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="n">o</span><span class="o">.</span><span class="n">variant_sets</span>
    <span class="c1"># ...</span>
</pre></div>
</div>
<section id="how-to-get-back-the-primhandler-s-attributes">
<h4>How to get back the PrimHandler’s attributes?<a class="headerlink" href="#how-to-get-back-the-primhandler-s-attributes" title="Permalink to this heading"></a></h4>
<p>Once you’ve iterated through the scene, you can get attrs back on your selection with <code class="docutils literal notranslate"><span class="pre">my_prim.update()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ...</span>
<span class="n">o</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="c1"># ...</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="move-objects">
<h2>Move objects<a class="headerlink" href="#move-objects" title="Permalink to this heading"></a></h2>
<p>API Modules : <a class="reference internal" href="../api/transform.html#module-substance3d.api.transform.transform"><span class="std std-ref">transform</span></a></p>
<p>The Transform module allows you to translate, rotate, and scale objects in your scene.
You can perform these operations on all object types, including cameras and lights,
to find the best composition for your scene.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently all the transform functions add transformation values to the already
existing one (if they exist), like you move a transform gizmo in a 3d software.</p>
</div>
<p>The script below shows how to translate, scale, and rotate an object in the scene.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">scene</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">primitive</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">transform</span>

<span class="n">project_path</span> <span class="o">=</span> <span class="s2">&quot;./ExampleScripts/Generated_USDs/&quot;</span>

<span class="c1"># Create an empty scene</span>
<span class="n">my_scene</span> <span class="o">=</span> <span class="n">scene</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">project_path</span> <span class="o">+</span> <span class="s1">&#39;Transform_Test.usda&#39;</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Create a cube and a sphere</span>
<span class="n">cube</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">cube</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;cube&#39;</span><span class="p">)</span>
<span class="n">cube2</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">cube</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;cube2&#39;</span><span class="p">)</span>

<span class="c1"># Translate, rotate, and scale the cube. and leave the sphere at the origin.</span>
<span class="n">transform</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
<span class="n">transform</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="p">(</span><span class="mf">45.0</span><span class="p">,</span> <span class="mf">45.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">37.0</span><span class="p">))</span>
<span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>

<span class="c1"># Save the scene.</span>
<span class="c1"># The scene location was set when we created the my_scene object, so it doesn&#39;t need to be defined during the save operation.</span>
<span class="n">output_path</span> <span class="o">=</span> <span class="n">scene</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">my_scene</span><span class="p">)</span>
</pre></div>
</div>
<p>The script above generates a USDA file containing a cube and a sphere with the cube transformed away from the origin.</p>
<img alt="../../_images/move1.jpg" src="../../_images/move1.jpg" />
<p>To make the scene a little more interesting we can add a distant light and rotate it to create some shadows. Add the code below to the script (make sure it’s added before the line where the scene is saved, or the change won’t be reflected in the saved USDA).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a light and rotate it to create shadows</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">light</span>
<span class="n">my_light</span> <span class="o">=</span> <span class="n">light</span><span class="o">.</span><span class="n">distant</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;distant_light&#39;</span><span class="p">)</span>
<span class="n">transform</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">my_light</span><span class="p">,</span> <span class="p">(</span><span class="mf">315.0</span><span class="p">,</span> <span class="mf">40.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
</pre></div>
</div>
<p>With the light added the scene should look something like the image below.</p>
<img alt="../../_images/move2.jpg" src="../../_images/move2.jpg" />
</section>
<section id="material">
<h2>Material<a class="headerlink" href="#material" title="Permalink to this heading"></a></h2>
<p>API Modules : <a class="reference internal" href="../api/material.html#module-substance3d.api.material.material"><span class="std std-ref">material</span></a></p>
<p>SSCA includes several options to create a material. They can be created from an SBSAR files, texture directories, or with a set of inputs.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the following sections, keep in mind that created materials are put under <code class="docutils literal notranslate"><span class="pre">/{defaultPrim}/materials</span></code> Prim by default.
You can set another parent by passing a Primhandler of type <cite>Scope</cite> to <code class="docutils literal notranslate"><span class="pre">materials_root_path</span></code> argument in any of the functions mentionned below.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Materials can only be created under <cite>Scope</cite> Primhandlers.</p>
</div>
<section id="create-a-material-from-textures">
<h3>Create a material from textures<a class="headerlink" href="#create-a-material-from-textures" title="Permalink to this heading"></a></h3>
<p>The code below shows how to create a simple PBR material by pointing to a collection of textures.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># set a path to your texture folder</span>
<span class="n">texture_path</span> <span class="o">=</span> <span class="s2">&quot;./textures&quot;</span>

<span class="c1"># create a dictionary with the texture usage as key, and texture filename as value</span>
<span class="n">texture_dictionary</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;baseColor&quot;</span><span class="p">:</span> <span class="n">texture_path</span> <span class="o">+</span> <span class="s2">&quot;DefaultMaterial_Base_color.png&quot;</span><span class="p">,</span>
    <span class="s2">&quot;metallic&quot;</span><span class="p">:</span> <span class="n">texture_path</span> <span class="o">+</span> <span class="s2">&quot;DefaultMaterial_Metallic.png&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ambientOcclusion&quot;</span><span class="p">:</span> <span class="n">texture_path</span> <span class="o">+</span> <span class="s2">&quot;DefaultMaterial_Mixed_AO.png&quot;</span><span class="p">,</span>
    <span class="s2">&quot;normal&quot;</span><span class="p">:</span> <span class="n">texture_path</span> <span class="o">+</span> <span class="s2">&quot;DefaultMaterial_Normal.png&quot;</span><span class="p">,</span>
    <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="n">texture_path</span> <span class="o">+</span> <span class="s2">&quot;DefaultMaterial_Height.png&quot;</span><span class="p">,</span>
    <span class="s2">&quot;roughness&quot;</span><span class="p">:</span> <span class="n">texture_path</span> <span class="o">+</span> <span class="s2">&quot;DefaultMaterial_Roughness.png&quot;</span>
<span class="p">}</span>

<span class="c1"># create the material from the texture dictionary</span>
<span class="n">cubes_material</span> <span class="o">=</span> <span class="n">material</span><span class="o">.</span><span class="n">create_from_inputs</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;cubes_material&#39;</span><span class="p">,</span> <span class="n">texture_dictionary</span><span class="p">)</span>
</pre></div>
</div>
<p>To gain time, it is also possible to create a PBR material by pointing to a textures directory that
follows the Substance usages convention.</p>
<p>If textures contains one of this usage names in their file name they will be automatically matched
with the correct input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">SUBSTANCE_USAGE_MAPPING</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;diffuseColor&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;baseColor&quot;</span><span class="p">,</span> <span class="s2">&quot;Base_Color&quot;</span><span class="p">),</span>
    <span class="s2">&quot;emissiveColor&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;emissive&quot;</span><span class="p">,),</span>
    <span class="s2">&quot;metallic&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;metallic&quot;</span><span class="p">,),</span>
    <span class="s2">&quot;roughness&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;roughness&quot;</span><span class="p">,),</span>
    <span class="s2">&quot;clearcoat&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;coatWeight&quot;</span><span class="p">,),</span>
    <span class="s2">&quot;clearcoatRoughness&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;coatRoughness&quot;</span><span class="p">,),</span>
    <span class="s2">&quot;opacity&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;opacity&quot;</span><span class="p">,),</span>
    <span class="s2">&quot;ior&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;IOR&quot;</span><span class="p">,),</span>
    <span class="s2">&quot;normal&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;normal&quot;</span><span class="p">,),</span>
    <span class="s2">&quot;displacement&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;displacement&quot;</span><span class="p">,),</span>
    <span class="s2">&quot;occlusion&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;ambientOcclusion&quot;</span><span class="p">,</span> <span class="s2">&quot;MixedAO&quot;</span><span class="p">,</span> <span class="s2">&quot;Mixed_AO&quot;</span><span class="p">),</span>
    <span class="o">...</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>So, create a material from a textures directory with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># set a path to your texture folder</span>
<span class="n">texture_dir</span> <span class="o">=</span> <span class="s2">&quot;./textures&quot;</span>
<span class="n">cubes_material</span> <span class="o">=</span> <span class="n">create_from_textures_dir</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;cubes_material&#39;</span><span class="p">,</span> <span class="n">texture_dir</span><span class="p">)</span>
</pre></div>
</div>
<p>You can get the full list of substance usage mapping by printing the result of <code class="docutils literal notranslate"><span class="pre">material.SUBSTANCE_USAGE_MAPPING</span></code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The usage names matching ignore the case</p>
</div>
</section>
<section id="create-a-material-from-an-sbsar-file">
<h3>Create a material from an SBSAR file<a class="headerlink" href="#create-a-material-from-an-sbsar-file" title="Permalink to this heading"></a></h3>
<p>Creating a material from an SBSAR file is as simple as a single line of code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sbsar_material</span> <span class="o">=</span> <span class="n">material</span><span class="o">.</span><span class="n">create_from_sbsar</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s2">&quot;./SBSARs/SimpleMat.sbsar&quot;</span><span class="p">,</span> <span class="s2">&quot;sbsar_mat&quot;</span> <span class="p">)</span>
</pre></div>
</div>
<p>Here we’re creating a material, giving it the name “sbsar_mat” and putting it by default into the <cite>/materials</cite> scope.</p>
<p>Once you’ve created a material from an SBSAR file, you can manipulate its presets, resolution and parameters.</p>
<p>The code below shows how to print out a list of the presets for a material,
and then set the material to use one of those presets.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># print the names of available presets</span>
<span class="nb">print</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">get_sbsar_presets</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">))</span>

<span class="c1"># set the material to use the first listed preset</span>
<span class="n">material</span><span class="o">.</span><span class="n">set_sbsar_preset</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">,</span> <span class="n">material</span><span class="o">.</span><span class="n">get_sbsar_presets</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p>The code below shows how to get and change the resolution.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># get the material resolution</span>
<span class="nb">print</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">get_sbsar_resolution</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">))</span>

<span class="c1"># set the material resolution (64, 128, 256, 512, 1024, 2048, 4096)</span>
<span class="n">material</span><span class="o">.</span><span class="n">set_sbsar_resolution</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">,</span> <span class="mi">2048</span><span class="p">)</span>
</pre></div>
</div>
<p>The code below shows how to get the list of the parameters of the SBSAR file,
and how to tweak them.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># print the parameters of the material</span>
<span class="n">all_parameters</span> <span class="o">=</span> <span class="n">material</span><span class="o">.</span><span class="n">get_sbsar_parameters</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">all_parameters</span><span class="p">)</span>

<span class="c1"># it prints a dictionnary with the following information per parameter</span>
<span class="p">{</span> <span class="s1">&#39;parameter_identifier&#39;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;guiDescription&#39;</span><span class="p">:</span> <span class="s1">&#39;description of the parameter&#39;</span><span class="p">,</span>
    <span class="s1">&#39;guiGroup&#39;</span><span class="p">:</span> <span class="s1">&#39;group of the parameter&#39;</span><span class="p">,</span>
    <span class="s1">&#39;guiWidget&#39;</span><span class="p">:</span> <span class="s1">&#39;widget of the parameter (color, slider, ...)&#39;</span><span class="p">,</span>
    <span class="s1">&#39;identifier&#39;</span><span class="p">:</span> <span class="s1">&#39;identifier of the parameter&#39;</span><span class="p">,</span>
    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;label of the parameter&#39;</span><span class="p">,</span>
    <span class="s1">&#39;maxValue&#39;</span><span class="p">:</span> <span class="s1">&#39;maximum value of the parameter&#39;</span><span class="p">,</span>
    <span class="s1">&#39;minvalue&#39;</span><span class="p">:</span> <span class="s1">&#39;minimum value of the parameter&#39;</span><span class="p">,</span>
    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;type of the parameter (float, float2, float3, int, int2, boolean, ...&#39;</span><span class="p">,</span>
    <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;uid of the parameter&#39;</span><span class="p">,</span>
    <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;value of the parameter&#39;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># get only color parameters of a material</span>
<span class="n">color_parameters</span> <span class="o">=</span> <span class="n">material</span><span class="o">.</span><span class="n">get_sbsar_parameters</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">,</span> <span class="n">widget</span><span class="o">=</span><span class="n">material</span><span class="o">.</span><span class="n">SbsarWidget</span><span class="o">.</span><span class="n">COLOR</span><span class="p">)</span>

<span class="c1"># get only parameters containing the word &quot;roughness&quot;</span>
<span class="n">roughness_parameters</span> <span class="o">=</span> <span class="n">material</span><span class="o">.</span><span class="n">get_sbsar_parameters</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="s1">&#39;*roughness*&#39;</span><span class="p">)</span>

<span class="c1"># Change the parameter value</span>
<span class="c1"># If it&#39;s a boolean</span>
<span class="n">material</span><span class="o">.</span><span class="n">set_sbsar_parameter</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">,</span> <span class="s1">&#39;my_boolean_parameter&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="c1"># If it&#39;s an integer</span>
<span class="n">material</span><span class="o">.</span><span class="n">set_sbsar_parameter</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">,</span> <span class="s1">&#39;my_integer_parameter&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="c1"># If it&#39;s a float</span>
<span class="n">material</span><span class="o">.</span><span class="n">set_sbsar_parameter</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">,</span> <span class="s1">&#39;my_float_parameter&#39;</span><span class="p">,</span> <span class="mf">0.12</span><span class="p">)</span>
<span class="c1"># If it&#39;s a float3</span>
<span class="n">material</span><span class="o">.</span><span class="n">set_sbsar_parameter</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">,</span> <span class="s1">&#39;my_float3_parameter&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.85</span><span class="p">,</span> <span class="mf">0.45</span><span class="p">,</span> <span class="mf">0.12</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="assign-a-material-to-an-object">
<h3>Assign a material to an object<a class="headerlink" href="#assign-a-material-to-an-object" title="Permalink to this heading"></a></h3>
<p>Materials won’t do much if they aren’t used in your scene.
The code below shows how to assign a the SBSAR material created above to your objects:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">material</span><span class="o">.</span><span class="n">assign_to_objects</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">,</span> <span class="n">objects</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">objects</span></code> in this case can be a single object or a list of objects.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you assign a material to a unique object, like a parent xform, the material will be mapped to all its
children.</p>
</div>
<p>When assigning a material to a object or a list of objects, you can automatically scale them based on the physical size of material and objects.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">material</span><span class="o">.</span><span class="n">assign_to_objects</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">,</span> <span class="n">objects</span><span class="p">,</span> <span class="n">apply_physicalsize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Material applied without physical size - material applied with physical size (left to right)</p>
<img alt="../../_images/physical-size.png" src="../../_images/physical-size.png" />
</section>
<section id="transform-a-material">
<h3>Transform a material<a class="headerlink" href="#transform-a-material" title="Permalink to this heading"></a></h3>
<p>Materials are currently projected on UVs.
The code belows shows how to transform a material in the UV space.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Scale</span>
<span class="n">material</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">,</span> <span class="p">(</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">))</span>

<span class="c1"># Translate</span>
<span class="n">material</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>

<span class="c1"># Rotate</span>
<span class="n">material</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">sbsar_material</span><span class="p">,</span> <span class="mf">45.0</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="lights">
<h2>Lights<a class="headerlink" href="#lights" title="Permalink to this heading"></a></h2>
<p>API Modules : <a class="reference internal" href="../api/light.html#module-substance3d.api.light.light"><span class="std std-ref">light</span></a></p>
<p>The USD format has a large range of lights available, but by default some of their names may be unfamiliar. <a class="reference external" href="https://www.youtube.com/watch?v=c7qyI8pZvF4&amp;t=172s">This video</a> created by Nvidia covers the lights available with USD and explains how lights can behave differently with the USD format. The table below shows the USD equivalent of common light types:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Common name</p></th>
<th class="head"><p>USD equivalent</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Directional light</p></td>
<td><p>Distant light</p></td>
</tr>
<tr class="row-odd"><td><p>Point light</p></td>
<td><p>Sphere light</p></td>
</tr>
<tr class="row-even"><td><p>Area light</p></td>
<td><p>Rect light</p></td>
</tr>
<tr class="row-odd"><td><p>Environment light/Sky light</p></td>
<td><p>Dome light</p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">light</span></code> module has methods that allow you to create any of the 5 basic types of light:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">light</span><span class="o">.</span><span class="n">distant</span><span class="p">(</span><span class="n">my_scene</span><span class="p">)</span>
<span class="n">light</span><span class="o">.</span><span class="n">cylinder</span><span class="p">(</span><span class="n">my_scene</span><span class="p">)</span>
<span class="n">light</span><span class="o">.</span><span class="n">disk</span><span class="p">(</span><span class="n">my_scene</span><span class="p">)</span>
<span class="n">light</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">my_scene</span><span class="p">)</span>
<span class="n">light</span><span class="o">.</span><span class="n">sphere</span><span class="p">(</span><span class="n">my_scene</span><span class="p">)</span>
</pre></div>
</div>
<section id="dome-lights">
<h3>Dome Lights<a class="headerlink" href="#dome-lights" title="Permalink to this heading"></a></h3>
<p>Dome lights behave slightly differently than other lights as they require an HDRI to cast light.
To create a dome light and attach a texture to it, use:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dome_path</span> <span class="o">=</span> <span class="s2">&quot;./skylight.hdr&quot;</span>
<span class="n">light</span><span class="o">.</span><span class="n">dome</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="n">identifier</span><span class="o">=</span><span class="s1">&#39;my_dome_light&#39;</span><span class="p">,</span> <span class="n">texture_path</span><span class="o">=</span><span class="n">dome_path</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="cameras">
<h2>Cameras<a class="headerlink" href="#cameras" title="Permalink to this heading"></a></h2>
<p>API Modules : <a class="reference internal" href="../api/camera.html#module-substance3d.api.camera.camera"><span class="std std-ref">camera</span></a></p>
<section id="create-cameras">
<h3>Create cameras<a class="headerlink" href="#create-cameras" title="Permalink to this heading"></a></h3>
<p>Cameras are necessary to create renders with SSCA. There are 3 ways to create a camera with the <code class="docutils literal notranslate"><span class="pre">camera</span></code> module :</p>
<ul class="simple">
<li><p>A simple default camera with <code class="docutils literal notranslate"><span class="pre">camera.create()</span></code></p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">camera</span>

<span class="n">primary_camera</span> <span class="o">=</span> <span class="n">camera</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s2">&quot;camera1&quot;</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>A camera with custom properties using <code class="docutils literal notranslate"><span class="pre">camera.CameraProperties()</span></code></p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">camera</span>

<span class="c1"># create camera properties and edit some of them</span>
<span class="n">props</span> <span class="o">=</span> <span class="n">camera</span><span class="o">.</span><span class="n">CameraProperties</span><span class="p">()</span>
<span class="n">props</span><span class="o">.</span><span class="n">exposure</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">props</span><span class="o">.</span><span class="n">verticalAperture</span> <span class="o">=</span> <span class="mf">10.0</span>

<span class="c1"># create camera using those properties</span>
<span class="n">primary_camera</span> <span class="o">=</span> <span class="n">camera</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;primary_cam&#39;</span><span class="p">,</span> <span class="n">props</span><span class="p">)</span>
</pre></div>
</div>
<p>Editable camera properties:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">clippingPlanes</span>
<span class="n">clippingRange</span>
<span class="n">radius</span>
<span class="n">exposure</span>
<span class="n">fStop</span>
<span class="n">focalLength</span>
<span class="n">focusDistance</span>
<span class="n">horizontalAperture</span>
<span class="n">horizontalApertureOffset</span>
<span class="n">projection</span>
<span class="n">purpose</span>
<span class="n">stereoRole</span>
<span class="n">verticalAperture</span>
<span class="n">verticalApertureOffset</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Multiple cameras around one or several objects using <code class="docutils literal notranslate"><span class="pre">camera.create_framed_cameras()</span></code>. Useful for creating turntables or contact-sheet with rendered images.</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">camera</span>

<span class="c1"># create 30 cameras focused on shape1 object</span>
<span class="n">camera</span><span class="o">.</span><span class="n">create_framed_cameras</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="n">shape1</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="rendering">
<h2>Rendering<a class="headerlink" href="#rendering" title="Permalink to this heading"></a></h2>
<p>API Modules : <a class="reference internal" href="../api/renderer.html#module-substance3d.api.renderer.renderer"><span class="std std-ref">renderer</span></a></p>
<p>SSCA includes an easy 3-steps process for rendering using the <code class="docutils literal notranslate"><span class="pre">renderer</span></code> module :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">renderer</span>

<span class="c1"># initialize the renderer</span>
<span class="n">renderer</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">my_scene</span><span class="p">)</span>

<span class="c1"># render an image of the scene in 512x512p with the renderer</span>
<span class="n">rendered_img</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="mi">512</span><span class="p">),</span> <span class="n">camera</span><span class="o">=</span><span class="n">primary_camera</span><span class="p">)</span>

<span class="c1"># save the image</span>
<span class="n">rendered_img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./Render.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">camera</span></code> is optional. If no camera argument is given, the renderer will create a temporary default camera framing the scene that will last until the end of the render.</p>
</div>
<p>You can do a render of all your cameras using the <code class="docutils literal notranslate"><span class="pre">.search()</span></code> method on your scene and iterating through all of them with a simple loop.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># search the scene for all camera objects</span>
<span class="n">cameras</span> <span class="o">=</span> <span class="n">my_scene</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;camera&#39;</span><span class="p">)</span>

<span class="c1"># initialize the renderer</span>
<span class="n">renderer</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">my_scene</span><span class="p">)</span>
<span class="n">counter</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># camera counter</span>

<span class="c1"># loop through all cameras in the scene, rendering and saving an image for each of them</span>
<span class="k">for</span> <span class="n">cam</span> <span class="ow">in</span> <span class="n">cameras</span><span class="p">:</span>
    <span class="n">rendered_img</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="mi">512</span><span class="p">),</span> <span class="n">default_light</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">camera</span><span class="o">=</span><span class="n">cam</span><span class="p">)</span>
    <span class="n">rendered_img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./Camera&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.png&#39;</span><span class="p">)</span>
    <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
<section id="render-settings">
<h3>Render Settings<a class="headerlink" href="#render-settings" title="Permalink to this heading"></a></h3>
<p>In addition to <code class="docutils literal notranslate"><span class="pre">renderer.init()</span></code> and <code class="docutils literal notranslate"><span class="pre">renderer.render()</span></code> arguments, render parameters can be accessed through a Prim called <cite>RenderSettings</cite>.
Definitions and examples of usage of this prim are out of the scope of this section,
but you can learn more about it in <a class="reference internal" href="nextsteps.html#next-steps"><span class="std std-ref">this section</span></a>.</p>
</section>
<section id="add-a-background">
<h3>Add a background<a class="headerlink" href="#add-a-background" title="Permalink to this heading"></a></h3>
<p>By default, images are rendered with a transparent background. This can be useful in some workflows,
but you may also want to add a background to your renders.
The snippet below shows how to render with a given background:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># initialize the renderer</span>
<span class="n">renderer</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">my_scene</span><span class="p">)</span>
<span class="c1"># render and add a background image</span>
<span class="n">renderer</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="n">camera</span><span class="o">=</span><span class="n">cam</span><span class="p">,</span> <span class="n">background_image</span><span class="o">=</span><span class="s1">&#39;./background.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="export">
<h2>Export<a class="headerlink" href="#export" title="Permalink to this heading"></a></h2>
<p>API Modules : <a class="reference internal" href="../api/export.html#module-substance3d.api.export.export"><span class="std std-ref">export</span></a></p>
<p>Sometimes you may need to export to formats other than USDA and USDC. SSCA allows you to export to FBX, GLTF and USDZ. Note that each file format has their own limitations, and they may not necessarily support saving all aspects of your scene.
The snippet below shows how to export to each file format:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># export to USDZ</span>
<span class="n">export</span><span class="o">.</span><span class="n">archive</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s2">&quot;./File.usdz&quot;</span><span class="p">)</span>

<span class="c1"># export to FBX – bake_sbsar=False stops the exporter from baking down materials.</span>
<span class="n">export</span><span class="o">.</span><span class="n">fbx</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s2">&quot;./File.fbx&quot;</span><span class="p">,</span> <span class="n">bake_sbsar</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># export to GLTF or GLB</span>
<span class="n">export</span><span class="o">.</span><span class="n">gltf</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s2">&quot;./File.gltf&quot;</span><span class="p">)</span>
<span class="n">export</span><span class="o">.</span><span class="n">glb</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s2">&quot;./File.glb&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All these export functions have <code class="docutils literal notranslate"><span class="pre">bake_sbsar</span></code> argument. If it set to True all, the sbsar materials will be rendered as
texture files and reassigned correctly to their objects.
This allows other USD software to read your export without the need of the sbsar USD plugin.</p>
</div>
</section>
<section id="image-manipulation">
<h2>Image manipulation<a class="headerlink" href="#image-manipulation" title="Permalink to this heading"></a></h2>
<p>API Modules : <a class="reference internal" href="../api/image.html#module-substance3d.api.image.image"><span class="std std-ref">image</span></a></p>
<p>It’s time to finalize your workflow by gathering your renders into images.
As you may have noticed into previous render section, <code class="docutils literal notranslate"><span class="pre">renderer.render()</span></code> returns an <code class="docutils literal notranslate"><span class="pre">Image</span></code> object
that you can save by calling <code class="docutils literal notranslate"><span class="pre">my_render.save('./my_render.png')</span></code>.</p>
<p>Let’s see how to use <code class="docutils literal notranslate"><span class="pre">Image</span></code> object and <code class="docutils literal notranslate"><span class="pre">image</span></code> module.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">image</span></code> module provides several features to manipulate and create image.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">image</span>

<span class="c1"># resize an Image and save it as new file</span>
<span class="n">resized_img</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">rendered_img</span><span class="p">,</span> <span class="p">(</span><span class="mi">1024</span><span class="p">,</span> <span class="mi">512</span><span class="p">))</span>
<span class="n">resized_img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;./my_resized_img.png&quot;</span><span class="p">)</span>

<span class="c1"># create a solid color image and save it, by giving a (r, g, b) tuple and a size</span>
<span class="n">solid_img</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">create_solid_color</span><span class="p">((</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1024</span><span class="p">,</span> <span class="mi">512</span><span class="p">))</span>
<span class="n">solid_img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;./solid_color.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Every method of <code class="docutils literal notranslate"><span class="pre">image</span></code> module can take an <code class="docutils literal notranslate"><span class="pre">Image</span></code> object or a file path to an image as argument, interchangeably.</p>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">image.over()</span></code> function to compose an image. For example, this can be used to add an image background behind an image with transparency.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">image</span>

<span class="c1"># init the renderer with transparent background</span>
<span class="n">renderer</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="n">renderer_name</span><span class="o">=</span><span class="s1">&#39;Eclair&#39;</span><span class="p">,</span> <span class="n">environment_background</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># render the scene</span>
<span class="n">rendered_img</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="mi">512</span><span class="p">),</span> <span class="n">default_light</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">camera</span><span class="o">=</span><span class="n">cam</span><span class="p">)</span>

<span class="c1"># combine the rendered image with the imported background image</span>
<span class="n">background_img</span> <span class="o">=</span> <span class="s1">&#39;./background_image.png&#39;</span>
<span class="n">composited_image</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">over</span><span class="p">(</span><span class="n">rendered_img</span><span class="p">,</span> <span class="n">background_img</span><span class="p">)</span>

<span class="c1"># save the composited image</span>
<span class="n">composited_image</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./final_image.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>All formats supported by <code class="docutils literal notranslate"><span class="pre">Image.save()</span></code> can be found by printing <code class="docutils literal notranslate"><span class="pre">image.ALLOWED_EXTENSIONS</span></code> attribute.</p>
</div>
<p>Image formats supported in <strong>Eclair renderer</strong> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">bmp</span><span class="p">,</span> <span class="o">.</span><span class="n">jpg</span><span class="p">,</span> <span class="o">.</span><span class="n">jpeg</span><span class="p">,</span> <span class="o">.</span><span class="n">png</span><span class="p">,</span> <span class="o">.</span><span class="n">tga</span><span class="p">,</span> <span class="o">.</span><span class="n">hdr</span><span class="p">,</span> <span class="o">.</span><span class="n">exr</span><span class="p">,</span> <span class="o">.</span><span class="n">tif</span><span class="p">,</span> <span class="o">.</span><span class="n">webp</span>
</pre></div>
</div>
<p>Other supported images formats :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">dib</span><span class="p">,</span> <span class="o">.</span><span class="n">gif</span><span class="p">,</span> <span class="o">.</span><span class="n">rgbe</span><span class="p">,</span> <span class="o">.</span><span class="n">ico</span><span class="p">,</span> <span class="o">.</span><span class="n">jpe</span> <span class="p">,</span> <span class="o">.</span><span class="n">jif</span><span class="p">,</span> <span class="o">.</span><span class="n">jfif</span><span class="p">,</span> <span class="o">.</span><span class="n">jfi</span><span class="p">,</span> <span class="o">.</span><span class="n">null</span><span class="p">,</span> <span class="o">.</span><span class="n">nul</span>
<span class="o">.</span><span class="n">sxr</span><span class="p">,</span> <span class="o">.</span><span class="n">mxr</span><span class="p">,</span> <span class="o">.</span><span class="n">tpic</span><span class="p">,</span> <span class="o">.</span><span class="n">term</span><span class="p">,</span> <span class="o">.</span><span class="n">tiff</span><span class="p">,</span> <span class="o">.</span><span class="n">tx</span><span class="p">,</span> <span class="o">.</span><span class="n">env</span><span class="p">,</span> <span class="o">.</span><span class="n">sm</span><span class="p">,</span> <span class="o">.</span><span class="n">vsm</span>
</pre></div>
</div>
</section>
<section id="variants">
<h2>Variants<a class="headerlink" href="#variants" title="Permalink to this heading"></a></h2>
<p>Variants are used to save several variations of a scene, object, material, etc. that you can modify on the fly.</p>
<p>Each variant must have an unique identifier <code class="docutils literal notranslate"><span class="pre">variant_identifier</span></code> and be regrouped under
a common variant set <code class="docutils literal notranslate"><span class="pre">variant_set</span></code>. You can make as many sets and as many variants as you like.</p>
<p>Example :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">scene</span><span class="p">,</span> <span class="n">primitive</span><span class="p">,</span> <span class="n">material</span><span class="p">,</span> <span class="n">variant</span><span class="p">,</span> <span class="n">transform</span>

<span class="c1"># create a standard scene tree</span>
<span class="n">my_scene</span> <span class="o">=</span> <span class="n">scene</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">scene</span><span class="o">.</span><span class="n">get_default</span><span class="p">(</span><span class="n">my_scene</span><span class="p">)</span>
<span class="n">cube_grp</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s1">&#39;cube_asset&#39;</span><span class="p">)</span>
<span class="n">cube_geo</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">cube</span><span class="p">(</span><span class="n">cube_grp</span><span class="p">,</span> <span class="s1">&#39;cube_geo&#39;</span><span class="p">)</span>
<span class="n">transform</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">cube_geo</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">45.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">))</span>
<span class="n">cube_material</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">cube_grp</span><span class="p">,</span> <span class="s1">&#39;cube_mat&#39;</span><span class="p">)</span>

<span class="c1"># create a red material variant under a new set called cube_color</span>
<span class="n">cube_mat_red</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">variant_identifier</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">variant_set</span><span class="o">=</span><span class="s1">&#39;cube_color&#39;</span><span class="p">)</span>

<span class="c1"># enter in the red variant context to edit it</span>
<span class="c1"># all modifications on the cube or its children will be applied only on the variant</span>
<span class="k">with</span> <span class="n">cube_mat_red</span><span class="p">:</span>
    <span class="n">red_mat</span> <span class="o">=</span> <span class="n">material</span><span class="o">.</span><span class="n">create_solid_color</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;red_mat&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
    <span class="n">material</span><span class="o">.</span><span class="n">assign_to_objects</span><span class="p">(</span><span class="n">red_mat</span><span class="p">,</span> <span class="n">cube_geo</span><span class="p">)</span>
<span class="c1"># exit the red variant edition</span>

<span class="c1"># create a blue material variant under the same set</span>
<span class="n">cube_mat_blue</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">variant_identifier</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">variant_set</span><span class="o">=</span><span class="s1">&#39;cube_color&#39;</span><span class="p">)</span>

<span class="c1"># enter in the blue variant context edition</span>
<span class="k">with</span> <span class="n">cube_mat_blue</span><span class="p">:</span>
    <span class="n">blue_mat</span> <span class="o">=</span> <span class="n">material</span><span class="o">.</span><span class="n">create_solid_color</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="s1">&#39;blue_mat&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
    <span class="n">material</span><span class="o">.</span><span class="n">assign_to_objects</span><span class="p">(</span><span class="n">blue_mat</span><span class="p">,</span> <span class="n">cube_geo</span><span class="p">)</span>
<span class="c1"># exit the red variant edition</span>

<span class="c1"># get all variants under the &quot;cube_color&quot; set</span>
<span class="n">variant</span><span class="o">.</span><span class="n">get_identifiers</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s1">&#39;cube_color&#39;</span><span class="p">)</span> <span class="c1"># &gt;&gt; [&#39;red&#39;, &#39;blue&#39;]</span>

<span class="c1"># set the variant of your choice</span>
<span class="n">variant</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;cube_color&#39;</span><span class="p">)</span>

<span class="c1"># clear the variant selection</span>
<span class="n">variant</span><span class="o">.</span><span class="n">clear</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s1">&#39;cube_color&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>At this point, you will have different options to render all your variants.
The first way of doing it is by using variant selection.
Note that you will have to manually clear the selection if you wish to switch back to default cube.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">camera</span><span class="p">,</span> <span class="n">light</span><span class="p">,</span> <span class="n">renderer</span>

<span class="c1"># creating light and camera</span>
<span class="n">d_light</span> <span class="o">=</span> <span class="n">light</span><span class="o">.</span><span class="n">distant</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;distant_light&quot;</span><span class="p">)</span>
<span class="n">d_light</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">intensity</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">25000</span><span class="p">)</span> <span class="c1">#  Daylight intensity</span>
<span class="n">cam</span> <span class="o">=</span> <span class="n">camera</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;camera&quot;</span><span class="p">)</span>
<span class="n">transform</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">cam</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="o">-</span><span class="mf">50.0</span><span class="p">))</span>
<span class="n">camera</span><span class="o">.</span><span class="n">frame</span><span class="p">(</span><span class="n">cam</span><span class="p">,</span> <span class="n">cube_grp</span><span class="p">)</span>

<span class="c1"># rendering variants</span>
<span class="n">renderer</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">my_scene</span><span class="p">)</span>
<span class="n">cube_variants</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">get_identifiers</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s1">&#39;cube_color&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">var_id</span> <span class="ow">in</span> <span class="n">cube_variants</span><span class="p">:</span>
    <span class="n">variant</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="s1">&#39;cube_color&#39;</span><span class="p">)</span> <span class="c1"># selects variant</span>
    <span class="n">rendered_img</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="mi">512</span><span class="p">),</span> <span class="kc">False</span><span class="p">,</span> <span class="n">cam</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">rendered_img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;./</span><span class="si">{</span><span class="n">var_id</span><span class="si">}</span><span class="s1">_var.png&#39;</span><span class="p">)</span>

<span class="c1"># clearing the selection to switch back to default cube</span>
<span class="n">variant</span><span class="o">.</span><span class="n">clear</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s1">&#39;cube_color&#39;</span><span class="p">)</span> <span class="c1"># clears variant selection</span>
<span class="n">rendered_img</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="mi">512</span><span class="p">),</span> <span class="kc">False</span><span class="p">,</span> <span class="n">cam</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">rendered_img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./default.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The other way is to render variants using context, avoiding the necessity of using variant selection.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">camera</span><span class="p">,</span> <span class="n">light</span><span class="p">,</span> <span class="n">renderer</span>

<span class="c1"># creating light and camera</span>
<span class="n">d_light</span> <span class="o">=</span> <span class="n">light</span><span class="o">.</span><span class="n">distant</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;distant_light&quot;</span><span class="p">)</span>
<span class="n">d_light</span><span class="o">.</span><span class="n">inputs</span><span class="o">.</span><span class="n">intensity</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">25000</span><span class="p">)</span> <span class="c1">#  Daylight intensity</span>
<span class="n">cam</span> <span class="o">=</span> <span class="n">camera</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s2">&quot;camera&quot;</span><span class="p">)</span>
<span class="n">transform</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">cam</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="o">-</span><span class="mf">50.0</span><span class="p">))</span>
<span class="n">camera</span><span class="o">.</span><span class="n">frame</span><span class="p">(</span><span class="n">cam</span><span class="p">,</span> <span class="n">cube_grp</span><span class="p">)</span>

<span class="c1"># rendering variants</span>
<span class="n">renderer</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">my_scene</span><span class="p">)</span>
<span class="n">cube_variants</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">get_identifiers</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="s1">&#39;cube_color&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">var_id</span> <span class="ow">in</span> <span class="n">cube_variants</span><span class="p">:</span>
    <span class="n">var</span> <span class="o">=</span> <span class="n">variant</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="s1">&#39;cube_color&#39;</span><span class="p">)</span> <span class="c1"># gets the Variant object</span>
    <span class="k">with</span> <span class="n">var</span><span class="p">:</span>
        <span class="n">rendered_img</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="mi">512</span><span class="p">),</span> <span class="kc">False</span><span class="p">,</span> <span class="n">cam</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="n">rendered_img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;./</span><span class="si">{</span><span class="n">var_id</span><span class="si">}</span><span class="s1">_var.png&#39;</span><span class="p">)</span>

<span class="c1"># assuming you didn&#39;t select a variant, this will render the default cube</span>
<span class="n">rendered_img</span> <span class="o">=</span> <span class="n">renderer</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">my_scene</span><span class="p">,</span> <span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="mi">512</span><span class="p">),</span> <span class="kc">False</span><span class="p">,</span> <span class="n">cam</span><span class="p">,</span> <span class="n">samples</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">rendered_img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;./default.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="animation">
<h2>Animation<a class="headerlink" href="#animation" title="Permalink to this heading"></a></h2>
<p>With SSCA, you can easily render animated scenes and also animate properties.</p>
<p>How to render a serie of frames:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># set the start and the end timecode of the given scene if it&#39;s not already set</span>
<span class="n">scene</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">set_time_range</span><span class="p">(</span><span class="n">my_scn</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">))</span>

<span class="c1"># render all frames in the time range</span>
<span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">my_scn</span><span class="o">.</span><span class="n">time_range</span><span class="p">:</span>
    <span class="n">renderer</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">my_scn</span><span class="p">,</span> <span class="n">timecode</span><span class="o">=</span><span class="n">frame</span><span class="p">)</span>
</pre></div>
</div>
<p>Below, we will see how to animate an object:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">substance3d.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">scene</span><span class="p">,</span> <span class="n">primitive</span><span class="p">,</span> <span class="n">transform</span><span class="p">,</span> <span class="n">renderer</span><span class="p">,</span> <span class="n">camera</span>

<span class="n">my_scn</span> <span class="o">=</span> <span class="n">scene</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>

<span class="n">world</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">my_scn</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">)</span>
<span class="n">cube</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">world</span><span class="p">,</span> <span class="s1">&#39;cube&#39;</span><span class="p">)</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add_reference</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="s1">&#39;./assets/cube.fbx&#39;</span><span class="p">)</span>
<span class="n">sphere</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">xform</span><span class="p">(</span><span class="n">world</span><span class="p">,</span> <span class="s1">&#39;sphere&#39;</span><span class="p">)</span>
<span class="n">scene</span><span class="o">.</span><span class="n">add_reference</span><span class="p">(</span><span class="n">sphere</span><span class="p">,</span> <span class="s1">&#39;./assets/sphere.fbx&#39;</span><span class="p">)</span>

<span class="n">cam</span> <span class="o">=</span> <span class="n">camera</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">my_scn</span><span class="p">)</span>
<span class="n">camera</span><span class="o">.</span><span class="n">frame</span><span class="p">(</span><span class="n">cam</span><span class="p">,</span> <span class="n">world</span><span class="p">,</span> <span class="n">frame_fit</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="c1"># Add a key context to start animating</span>
<span class="n">scene</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">create_timecode_label</span><span class="p">(</span><span class="n">my_scn</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">)</span>
<span class="k">with</span> <span class="n">scene</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">activate_timecode</span><span class="p">(</span><span class="n">my_scn</span><span class="p">,</span> <span class="s1">&#39;start&#39;</span><span class="p">):</span>
    <span class="n">transform</span><span class="o">.</span><span class="n">set_translate</span><span class="p">(</span><span class="n">sphere</span><span class="p">,</span> <span class="p">(</span><span class="mf">300.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
    <span class="n">transform</span><span class="o">.</span><span class="n">set_translate</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>

<span class="k">with</span> <span class="n">scene</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">activate_timecode</span><span class="p">(</span><span class="n">my_scn</span><span class="p">,</span> <span class="n">timecode</span><span class="o">=</span><span class="mf">25.0</span><span class="p">):</span>
    <span class="n">transform</span><span class="o">.</span><span class="n">set_translate</span><span class="p">(</span><span class="n">sphere</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">))</span>
    <span class="n">transform</span><span class="o">.</span><span class="n">set_translate</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
    <span class="n">transform</span><span class="o">.</span><span class="n">set_rotate</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">45.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>

<span class="k">with</span> <span class="n">scene</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">activate_timecode</span><span class="p">(</span><span class="n">my_scn</span><span class="p">,</span> <span class="n">timecode</span><span class="o">=</span><span class="mf">50.0</span><span class="p">):</span>
    <span class="n">transform</span><span class="o">.</span><span class="n">set_translate</span><span class="p">(</span><span class="n">sphere</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mf">300.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
    <span class="n">transform</span><span class="o">.</span><span class="n">set_translate</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
    <span class="n">transform</span><span class="o">.</span><span class="n">set_rotate</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>

<span class="k">with</span> <span class="n">scene</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">activate_timecode</span><span class="p">(</span><span class="n">my_scn</span><span class="p">,</span> <span class="n">timecode</span><span class="o">=</span><span class="mf">75.0</span><span class="p">):</span>
    <span class="n">transform</span><span class="o">.</span><span class="n">set_translate</span><span class="p">(</span><span class="n">sphere</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">300.0</span><span class="p">))</span>
    <span class="n">transform</span><span class="o">.</span><span class="n">set_translate</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">300.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
    <span class="n">transform</span><span class="o">.</span><span class="n">set_rotate</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">45.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>

<span class="n">scene</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">create_timecode_label</span><span class="p">(</span><span class="n">my_scn</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
<span class="k">with</span> <span class="n">scene</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">activate_timecode</span><span class="p">(</span><span class="n">my_scn</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">):</span>
    <span class="n">transform</span><span class="o">.</span><span class="n">set_translate</span><span class="p">(</span><span class="n">sphere</span><span class="p">,</span> <span class="p">(</span><span class="mf">300.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
    <span class="n">transform</span><span class="o">.</span><span class="n">set_translate</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
    <span class="n">transform</span><span class="o">.</span><span class="n">set_rotate</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
</pre></div>
</div>
<img alt="../../_images/animation.gif" src="../../_images/animation.gif" />
<p>You can also directly get or set a transformation at a specific timecode with the <code class="docutils literal notranslate"><span class="pre">timecode</span></code> argument:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">translation</span> <span class="o">=</span> <span class="n">transform</span><span class="o">.</span><span class="n">get_translate</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="n">timecode</span><span class="o">=</span><span class="mf">100.0</span><span class="p">)</span>
<span class="n">speed</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">transform</span><span class="o">.</span><span class="n">set_translate</span><span class="p">(</span><span class="n">bike</span><span class="p">,</span> <span class="p">(</span><span class="n">a</span> <span class="o">*</span> <span class="n">b</span> <span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">translation</span><span class="p">,</span> <span class="n">speed</span><span class="p">),</span> <span class="n">timecode</span><span class="o">=</span><span class="mf">200.0</span><span class="p">))</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mainconcepts.html" class="btn btn-neutral float-left" title="Main Concepts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="nextsteps.html" class="btn btn-neutral float-right" title="Next Steps" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Adobe.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>